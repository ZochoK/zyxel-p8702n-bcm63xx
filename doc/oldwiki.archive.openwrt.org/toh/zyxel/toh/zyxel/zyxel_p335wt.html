<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">

<!-- Mirrored from openwrt.org/toh/zyxel/zyxel_p335wt by HTTraQt Website Copier/1.x [Karbofos 2012-2017] Sun, 10 Mar 2019 07:09:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <title>OpenWrt Project: ZyXEL P-335WT</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="adm5120,fastethernet,1nic,1wnic,5port,16ram,4flash,mips,mips32,4kc"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Project"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="zyxel_p335wtdecf?do=index" title="Sitemap"/>
<link rel="manifest" href="../../lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../../external.html?link=https://openwrt.org/feed.php?mode=list&amp;ns=toh:zyxel"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/zyxel/zyxel_p335wt"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/zyxel/zyxel_p335wt"/>
<link rel="canonical" href="zyxel_p335wt.html"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/cssca56.css?t=openwrt&amp;tseed=659d77b8d7a7a08bcde1a890e899b0ef"/>
<link type="text/css" rel="stylesheet" href="../../lib/plugins/datatables/assets/datatables/media/css/jquery.dataTables.min.css"/>
<link type="text/css" rel="stylesheet" href="../../lib/plugins/datatables/assets/datatables/extensions/FixedHeader/css/fixedHeader.dataTables.min.css"/>
<link type="text/css" rel="stylesheet" href="../../lib/plugins/datatables/assets/datatables/extensions/FixedColumns/css/fixedColumns.dataTables.min.css"/>
<link type="text/css" rel="stylesheet" href="../../lib/plugins/datatables/assets/datatables/extensions/Buttons/css/buttons.dataTables.min.css"/>
<link type="text/css" rel="stylesheet" href="../../lib/plugins/datatables/assets/datatables/extensions/Responsive/css/responsive.dataTables.min.css"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='toh:zyxel';var JSINFO = {"plugin_imagemap_mldummy":"\/_media\/wiki\/dokuwiki-128.png","move_renameokay":false,"plugin":{"datatables":{"config":[],"enableForAllTables":0}},"schemes":["http","https","telnet","gopher","wais","ftp","ed2k","irc","ldap"],"plugin_folded":{"hide":"hide","reveal":"reveal"},"id":"toh:zyxel:zyxel_p335wt","namespace":"toh:zyxel","ACT":"show","useHeadingNavigation":1,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/jquery1d4f.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/jsca56.php?t=openwrt&amp;tseed=659d77b8d7a7a08bcde1a890e899b0ef"></script>
<script type="text/javascript" src="../../lib/plugins/datatables/assets/datatables/media/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="../../lib/plugins/datatables/assets/datatables/extensions/FixedHeader/js/dataTables.fixedHeader.min.js"></script>
<script type="text/javascript" src="../../lib/plugins/datatables/assets/datatables/extensions/FixedColumns/js/dataTables.fixedColumns.min.js"></script>
<script type="text/javascript" src="../../lib/plugins/datatables/assets/datatables/extensions/Buttons/js/dataTables.buttons.min.js"></script>
<script type="text/javascript" src="../../lib/plugins/datatables/assets/datatables/extensions/Buttons/js/buttons.html5.min.js"></script>
<script type="text/javascript" src="../../lib/plugins/datatables/assets/datatables/extensions/Buttons/js/buttons.print.min.js"></script>
<script type="text/javascript" src="../../lib/plugins/datatables/assets/datatables/extensions/Responsive/js/dataTables.responsive.min.js"></script>
<!--<![endif]-->
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site" class="page_toh page_zyxel page_zyxel_p335wt"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt    showSidebar hasSidebar">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../index.html"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Project</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="zyxel_p335wtf59b?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="zyxel_p335wt51ef?do=login&amp;sectok="  class="action login" rel="nofollow" title="Log In">Log In</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../../external.html?link=https://openwrt.org/start" method="get" role="search" class="search doku_form" id="dw__search" accept-charset="utf-8"><input type="hidden" name="do" value="search" /><input type="hidden" name="id" value="toh:zyxel:zyxel_p335wt" /><div class="no"><input name="q" type="text" class="edit" title="[F]" accesskey="f" placeholder="Search" autocomplete="on" id="qsearch__in" value="" /><button value="1" type="submit" title="Search">Search</button><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../../external.html?link=https://openwrt.org/doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:zyxel:zyxel_p335wt" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent Changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="register">Register</option><option value="login">Log In</option></optgroup></select><button type="submit">&gt;</button></div></form>            </div>
            <ul>
                <li><a href="zyxel_p335wt810b?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent Changes [R]">Recent Changes</a></li><li><a href="zyxel_p335wt0b87?do=media&amp;ns=toh%3Azyxel"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="zyxel_p335wtdecf?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start.html" class="wikilink1" title="start">Welcome to the OpenWrt Project</a></bdi></span> » <bdi><a href="../start.html" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start.html" class="wikilink1" title="toh:zyxel:start">ZyXEL</a></bdi> » <bdi><span class="curid"><a href="zyxel_p335wt.html" class="wikilink1" title="toh:zyxel:zyxel_p335wt">ZyXEL P-335WT</a></span></bdi></div>
                                                <div class="plugin_translation"><form action="../../../external.html?link=https://openwrt.org/start" id="translation__dropdown"><img src="../../lib/plugins/translation/flags/en.gif" alt="en" height="11" class="wikilink1" /> <select name="id" class="wikilink1"><option class="wikilink1 cur flag" title="English" value="toh/zyxel/zyxel_p335wt" selected="selected" style="background-image: url('../../lib/plugins/translation/flags/en.gif')">English (en)</option><option class="wikilink2 flag" title="|العربية" value="ar/toh/zyxel/zyxel_p335wt" style="background-image: url('../../lib/plugins/translation/flags/ar.gif')">|العربية (ar)</option><option class="wikilink2 flag" title="Česky" value="cs/toh/zyxel/zyxel_p335wt" style="background-image: url('../../lib/plugins/translation/flags/cs.gif')">Česky (cs)</option><option class="wikilink2 flag" title="Deutsch" value="de/toh/zyxel/zyxel_p335wt" style="background-image: url('../../lib/plugins/translation/flags/de.gif')">Deutsch (de)</option><option class="wikilink2 flag" title="Español" value="es/toh/zyxel/zyxel_p335wt" style="background-image: url('../../lib/plugins/translation/flags/es.gif')">Español (es)</option><option class="wikilink2 flag" title="Français" value="fr/toh/zyxel/zyxel_p335wt" style="background-image: url('../../lib/plugins/translation/flags/fr.gif')">Français (fr)</option><option class="wikilink2 flag" title="Magyar" value="hu/toh/zyxel/zyxel_p335wt" style="background-image: url('../../lib/plugins/translation/flags/hu.gif')">Magyar (hu)</option><option class="wikilink2 flag" title="Italiano" value="it/toh/zyxel/zyxel_p335wt" style="background-image: url('../../lib/plugins/translation/flags/it.gif')">Italiano (it)</option><option class="wikilink2 flag" title="日本語" value="ja/toh/zyxel/zyxel_p335wt" style="background-image: url('../../lib/plugins/translation/flags/ja.gif')">日本語 (ja)</option><option class="wikilink2 flag" title="한국어" value="ko/toh/zyxel/zyxel_p335wt" style="background-image: url('../../lib/plugins/translation/flags/ko.gif')">한국어 (ko)</option><option class="wikilink2 flag" title="Polski" value="pl/toh/zyxel/zyxel_p335wt" style="background-image: url('../../lib/plugins/translation/flags/pl.gif')">Polski (pl)</option><option class="wikilink2 flag" title="Português" value="pt/toh/zyxel/zyxel_p335wt" style="background-image: url('../../lib/plugins/translation/flags/pt.gif')">Português (pt)</option><option class="wikilink2 flag" title="Português" value="pt-br/toh/zyxel/zyxel_p335wt" style="background-image: url('../../lib/plugins/translation/flags/pt-br.gif')">Português (pt-br)</option><option class="wikilink2 flag" title="Русский" value="ru/toh/zyxel/zyxel_p335wt" style="background-image: url('../../lib/plugins/translation/flags/ru.gif')">Русский (ru)</option><option class="wikilink2 flag" title="Türkçe" value="tr/toh/zyxel/zyxel_p335wt" style="background-image: url('../../lib/plugins/translation/flags/tr.gif')">Türkçe (tr)</option><option class="wikilink2 flag" title="中文" value="zh/toh/zyxel/zyxel_p335wt" style="background-image: url('../../lib/plugins/translation/flags/zh.gif')">中文 (zh)</option><option class="wikilink2 flag" title="繁體中文" value="zh-tw/toh/zyxel/zyxel_p335wt" style="background-image: url('../../lib/plugins/translation/flags/zh-tw.gif')">繁體中文 (zh-tw)</option></select><input name="go" type="submit" value="&rarr;" /></form>&nbsp<sup><a href="../../meta/translation.html" class="wikilink1" title="meta:translation">?</a></sup></div>        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

                            <!-- ********** ASIDE ********** -->
                <div id="dokuwiki__aside"><div class="pad aside include group">
                    <h3 class="toggle">Sidebar</h3>
                    <div class="content">
                                                                        

<ul>
<li class="level1"><div class="li"> <a href="../../start.html" class="wikilink1" title="start">Welcome to OpenWrt</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../supported_devices.html" class="wikilink1" title="supported_devices">Supported Devices</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../packages/start.html" class="wikilink1" title="packages:start">Packages</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../downloads.html" class="wikilink1" title="downloads">Downloads</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../docs/start.html" class="wikilink1" title="docs:start">Documentation</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../submitting-patches.html" class="wikilink1" title="submitting-patches">Submitting patches</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../bugs.html" class="wikilink1" title="bugs">Reporting bugs</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../wiki/wikirules.html" class="wikilink1" title="wiki:wikirules">Wiki contribution guide</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../../external.html?link=https://forum.openwrt.org/" class="urlextern" title="https://forum.openwrt.org" rel="nofollow">OpenWrt Forum</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../../external.html?link=https://openwrt.org/faq" class="wikilink1" title="faq">FAQ</a> </div>
</li>
</ul>
<hr />
<ul>
<li class="level1 node"><div class="li"> <a href="../../about.html" class="wikilink1" title="about">About OpenWrt/LEDE</a> </div>
<ul>
<li class="level2"><div class="li"> <a href="../../rules.html" class="wikilink1" title="rules">Rules</a></div>
</li>
<li class="level2"><div class="li"> <a href="../../infrastructure.html" class="wikilink1" title="infrastructure">Infrastructure</a></div>
</li>
<li class="level2"><div class="li"> <a href="../../trademark.html" class="wikilink1" title="trademark">Trademark Policy</a></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <a href="../../wiki/start.html" class="wikilink1" title="wiki:start">About this site</a></div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <a href="../../contact.html" class="wikilink1" title="contact">Contact Us</a> </div>
</li>
</ul>
                                            </div>
                </div></div><!-- /aside -->
            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:zyxel:zyxel_p335wt</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc" class="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="#zyxel_p-335wt">ZyXEL P-335WT</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="#hardware">Hardware</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#info">Info</a></div></li>
<li class="level3"><div class="li"><a href="#serial">Serial</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="#hacking_the_zyxel_p-335wt">Hacking the ZyXEL P-335WT</a></div></li>
<li class="level2"><div class="li"><a href="#flashrom_layout">FLASH/ROM layout</a></div></li>
<li class="level2"><div class="li"><a href="#bootstrapping_linux">Bootstrapping Linux</a></div></li>
<li class="level2"><div class="li"><a href="#bootlogs">Bootlogs</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#openwrt_bootlog">OpenWrt bootlog</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="#untouched_switch_mapping">Untouched switch mapping</a></div></li>
<li class="level2"><div class="li"><a href="#tags">Tags</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="zyxel_p-335wt">ZyXEL P-335WT</h1>
<div class="level1">

</div>

<h2 class="sectionedit2" id="hardware">Hardware</h2>
<div class="level2">

</div>

<h3 class="sectionedit3" id="info">Info</h3>
<div class="level3">
<div class="table sectionedit4"><table class="inline">
	<tr class="row0">
		<th class="col0 leftalign"> <a href="../../../external.html?link=https://en.wikipedia.org/wiki/Instruction set" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Instruction set">Instruction set</a>               </th><td class="col1 leftalign"> <a href="../../../external.html?link=https://en.wikipedia.org/wiki/MIPS architecture" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/MIPS architecture">MIPS</a> Big Endian  </td>
	</tr>
	<tr class="row1">
		<th class="col0 leftalign"> Vendor                               </th><td class="col1"> <a href="../../../external.html?link=https://en.wikipedia.org/wiki/Infineon_Technologies" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Infineon_Technologies">Infineon</a> </td>
	</tr>
	<tr class="row2">
		<th class="col0 leftalign"> <a href="../../docs/techref/bootloader" class="wikilink1" title="docs:techref:bootloader">bootloader</a>          </th><td class="col1"> Bootbase </td>
	</tr>
	<tr class="row3">
		<th class="col0 leftalign"> <a href="../../docs/techref/hardware/soc" class="wikilink1" title="docs:techref:hardware:soc">System-On-Chip</a>  </th><td class="col1"> ADM5120 (BGA) </td>
	</tr>
	<tr class="row4">
		<th class="col0 leftalign"> <a href="../../docs/techref/hardware/cpu" class="wikilink1" title="docs:techref:hardware:cpu">CPU</a> @Frq        </th><td class="col1"> MIPS 4Kc @175MHz </td>
	</tr>
	<tr class="row5">
		<th class="col0 leftalign"> Flash size                 </th><td class="col1"> 4 MiB </td>
	</tr>
	<tr class="row6">
		<th class="col0 leftalign"> Flash Chip                 </th><td class="col1"> 1x Macronix MX29LV320BT-90 </td>
	</tr>
	<tr class="row7">
		<th class="col0 leftalign"> RAM size                   </th><td class="col1 leftalign"> 16 MiB   </td>
	</tr>
	<tr class="row8">
		<th class="col0 leftalign"> RAM Chip                   </th><td class="col1 leftalign"> 1x Hynix SDR-133  </td>
	</tr>
	<tr class="row9">
		<th class="col0 leftalign"> Wireless                   </th><td class="col1 leftalign"> Texas Instruments TNETW1130GVF (mini-PCI) 802.11b/g  </td>
	</tr>
	<tr class="row10">
		<th class="col0 leftalign"> <a href="../../docs/techref/hardware/switch" class="wikilink1" title="docs:techref:hardware:switch">switch</a>    </th><td class="col1 leftalign"> 5x (SoC)  </td>
	</tr>
	<tr class="row11">
		<th class="col0 leftalign"> USB                        </th><td class="col1 leftalign"> yes  </td>
	</tr>
	<tr class="row12">
		<th class="col0 leftalign"> <a href="../../docs/techref/hardware/port.serial" class="wikilink1" title="docs:techref:hardware:port.serial">Serial</a>  </th><td class="col1"> <a href="#serial" title="toh:zyxel:zyxel_p335wt ↵" class="wikilink1">Yes</a> </td>
	</tr>
	<tr class="row13">
		<th class="col0 leftalign"> <a href="../../docs/techref/hardware/port.jtag" class="wikilink1" title="docs:techref:hardware:port.jtag">JTAG</a>      </th><td class="col1 leftalign"> ?   </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit5" id="serial">Serial</h3>
<div class="level3">

<p>
Serial Pinout on the J1 header:
</p>
<pre class="code"> A  | o o - VCC
 D  | o o - Tx
 M  |   o - Rx
 5  |   x
 1  |   o - GND
 2  |  J1
 0  |
___/</pre>

<p>
9600 8n1
</p>

<p>
Services :
</p>

<p>
 Password for services : 1234
</p>

<p>
 Telnet
 <abbr title="File Transfer Protocol">FTP</abbr> (root/1234)
 WEB
 IDENT
</p>

<p>
It is not possible to login via the web interface when you are logged by console, and probably vice versa.
</p>

</div>

<h2 class="sectionedit6" id="hacking_the_zyxel_p-335wt">Hacking the ZyXEL P-335WT</h2>
<div class="level2">

<p>
This device uses Bootbase as bootloader and ZynOS as Operating system. It runs in Big-endian mode (adm5120eb-2.6 target).
</p>

<p>
You will have to choose the “ramdisk” target in “Target image”. This will produce a file : openwrt-adm5120eb-2.6-vmlinux-lzma-p-335wt.bin.
</p>

<p>
This file contains a LZMA decompressor that is capable of loading the Kernel+ramdisk image. There is no need for a second bootloader.
</p>

<p>
Here are several useful informations :
</p>

<p>
Entering advanced debug mode :
</p>

<p>
ATEN1,
</p>
<pre class="code">MAC Address
of LAN port	Password y for ATENx,y
...0 or ...8	10F0A563
...1 or ...9	887852B1
...2 or ...A	C43C2958
...3 or ...B	621E14AC
...4 or ...C	310F0A56
...5 or ...D	1887852B
...6 or ...E	8C43C295
...7 or ... F	C621E14A</pre>

<p>
Loading an image via Xmodem :
</p>

<p>
ATUP,
</p>

</div>

<h2 class="sectionedit7" id="flashrom_layout">FLASH/ROM layout</h2>
<div class="level2">
<pre class="code">ATMP
ROMIO image start at bfc08000
code version:
code start: 80008000
code length: 1E80C2
memMapTab: 16 entries, start = bfc30000, checksum = FD5E
$RAM Section:
  0: BootExt(RAMBOOT), start=80008000, len=18000
  1: BootData(RAM), start=80020000, len=8000
  2: HTPCode(RAMCODE), start=80020000, len=18000
  3: HTPData(RAM), start=8003c000, len=14000
  4: RasCode(RAMCODE), start=80020000, len=6F0000
  5: RasData(RAM), start=80710000, len=8F0000
$ROM Section:
  6: BootBas(ROMIMG), start=bfc00000, len=4000
  7: DbgArea(ROMIMG), start=bfc04000, len=2000
  8: RomDir2(ROMDIR), start=bfc06000, len=2000
  9: BootExt(ROMIMG), start=bfc08030, len=17FD0
 10: HTPCode(ROMBIN), start=bfc20000, len=10000
     (Compressed)
     Version: HTP_P335WT V1.0, start: bfc20030

     Length: AE14, Checksum: 9AE0
     Compressed Length: 2CE5, Checksum: 80D9
 11: MemMapT(ROMMAP), start=bfc30000, len=C00
 12: termcap(ROMIMG), start=bfc30c00, len=400
 13: RomDefa(ROMIMG), start=bfc31000, len=2000
 14: tiwlan(ROMIMG), start=bfc33000, len=1F000
 15: RasCode(ROMBIN), start=bfc52000, len=1FE000
     (Compressed)
     Version: RAS P335WT, start: bfc52030
     Length: 4D31F0, Checksum: 010C
     Compressed Length: 19E0C1, Checksum: BF6A</pre>

</div>

<h2 class="sectionedit8" id="bootstrapping_linux">Bootstrapping Linux</h2>
<div class="level2">

<p>
Thanks to Gabor Juhos and his LZMA decompressor, we can load a kernel+ramdisk image without using a second stage bootloader.
</p>

<p>
You will need to calculate the size of the ramdisk image to send :
</p>
<pre class="code">ls -sk openwrt-adm5120eb-2.6-vmlinux-lzma-p-335wt.bin</pre>

<p>
will show you the size in Kbytes, now you just need to multiply it by 1024 and convert it in Hex to get the hex size to use as second argument to ATUP.
</p>

</div>

<h2 class="sectionedit9" id="bootlogs">Bootlogs</h2>
<div class="level2">

</div>

<h3 class="sectionedit10" id="openwrt_bootlog">OpenWrt bootlog</h3>
<div class="level3">
<div class="wrap_bootlog plugin_wrap">
<p>
Bootbase Version: V1.05 | 04/20/2004 10:36:26
RAM: Size=16384 Kbytes
DRAM POST: Testing: 16384K
OK
FLASH: AMD 32M

ZyNOS Version: V3.60(JO.4) | 03/03/2006 16:30:00

Press any key to enter debug mode within 3 seconds.
.......
Enter Debug Mode
ATEN1,C43C2958
OK
ATUP80020000,1FD000
Starting XMODEM upload (CRC mode)....
C
Total 2076800 bytes received

OK
ATGO80020000

LZMA loader for ADM5120, Copyright (C) 2007 OpenWrt.org

decompressing kernel... done!
launching kernel...

Linux version 2.6.21.1 (fainelli@anaconda.int-evry.fr) (gcc version 4.1.2) #1 Sat Jun 2 20:48:26 CEST 2007
ADM5120 revision 8, running at 175MHz
Boot loader is: Bootbase
Booted from   : NOR flash
Board is      : ZyXEL Prestige 335/335WT
GETENV: envname is memsize
GETENV: returning 0x001000000
CPU revision is: 0001800b
ADM5120 board setup
Determined physical RAM map:
 memory: 00c18000 @ 003e8000 (usable)
Wasting 32000 bytes for tracking 1000 unused pages
Initrd not found or empty - disabling initrd
Built 1 zonelists.  Total pages: 4064
Kernel command line: console=ttyS0,115200 rootfs=jffs2,squashfs init=/etc/preinit
Primary instruction cache 8kB, physically tagged, 2-way, linesize 16 bytes.
Primary data cache 8kB, 2-way, linesize 16 bytes.
Synthesized TLB refill handler (20 instructions).
Synthesized TLB load handler fastpath (32 instructions).
Synthesized TLB store handler fastpath (32 instructions).
Synthesized TLB modify handler fastpath (31 instructions).
PID hash table entries: 64 (order: 6, 256 bytes)
Using 87.500 MHz high precision timer.
Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)
Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)
Memory: 12236k/12384k available (2193k kernel code, 148k reserved, 330k data, 1360k init, 0k highmem)
Mount-cache hash table entries: 512
NET: Registered protocol family 16
adm5120: system has PCI BIOS
registering PCI controller with io_map_base unset
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
PCI: mapping irq for device 0000:00:02.0, slot:2, pin:1, irq:15
Time: MIPS clocksource has been installed.
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 512 (order: 0, 4096 bytes)
TCP bind hash table entries: 512 (order: -1, 2048 bytes)
TCP: Hash tables configured (established 512 bind 512)
TCP reno registered
squashfs: version 3.0 (2006/03/15) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  (C) 2001-2006 Red Hat, Inc.
io scheduler noop registered
io scheduler deadline registered (default)
Registered led device: adm5120:led
ttyS0 at I/O 0x12600000 (irq = 9) is a ADM5120
ttyS1 at I/O 0x12800000 (irq = 10) is a ADM5120
eth0: ADM5120 switch port0
eth1: ADM5120 switch port1
eth2: ADM5120 switch port2
eth3: ADM5120 switch port3
eth4: ADM5120 switch port4
adm5120 : flash init : 0x1fc00000 0x00400000
adm5120 physically mapped flash: Found 1 x16 devices at 0x0 in 16-bit bank
 Amd/Fujitsu Extended Query Table at 0x0040
number of CFI chips: 1
cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.
Flash device: 0x400000 at 0x1fc00000
block2mtd: version $Revision: 1.30 $
nf_conntrack version 0.5.0 (96 buckets, 768 max)
ip_tables: (C) 2000-2006 Netfilter Core Team
TCP vegas registered
NET: Registered protocol family 1
NET: Registered protocol family 17
NET: Registered protocol family 15
Bridge firewalling registered
802.1Q VLAN Support v1.8 Ben Greear 
All bugs added by David S. Miller 
Freeing unused kernel memory: 1360k freed
Warning: unable to open an initial console.
Algorithmics/MIPS FPU Emulator v1.5
device eth0 entered promiscuous mode
br-lan: port 1(eth0) entering learning state
br-lan: topology change detected, propagating
br-lan: port 1(eth0) entering forwarding state
PPP generic driver version 2.4.2
wlan: 0.8.4.2 (svn r2414)
ath_hal: module license &#039;Proprietary&#039; taints kernel.
ath_hal: 0.9.30.13 (AR5210, AR5211, AR5212, AR5416, RF5111, RF5112, RF2413, RF5413, RF2133, REGOPS_FUNC)
ath_rate_minstrel: 1.2 (svn r2414)

Minstrel automatic rate control algorithm.

Look around rate set to 10%
EWMA rolloff level set to 75%
Max Segment size in the mrr set to 6000 us

wlan: mac acl policy registered
ath_pci: 0.9.4.5 (svn r2414)

init started:  BusyBox v1.4.2 (2007-06-02 10:18:29 CEST) multi-call binary

Please press Enter to activate this console.


BusyBox v1.4.2 (2007-06-02 10:18:29 CEST) Built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   |   _  |  -__|     |   |  |  |    _|    _|
 |_ ^ |_____|__| ^ ^ |  |____|
          |__| W I R E L E S S   F R E E D O M
 KAMIKAZE (bleeding edge, r7437) -------------------
   * 10 oz Vodka       Shake well with ice and strain
   * 10 oz Triple sec  mixture into 10 shot glasses.
   * 10 oz lime juice  Salute!
 ---------------------------------------------------
root@OpenWrt:/# br-lan: port 1(eth0) entering disabled state
device eth0 left promiscuous mode
br-lan: port 1(eth0) entering disabled state
device eth0 entered promiscuous mode
br-lan: port 1(eth0) entering learning state
br-lan: topology change detected, propagating
br-lan: port 1(eth0) entering forwarding state
br-lan: port 1(eth0) entering disabled state
device eth0 left promiscuous mode
br-lan: port 1(eth0) entering disabled state
device eth0 entered promiscuous mode
br-lan: port 1(eth0) entering learning state
br-lan: topology change detected, propagating
br-lan: port 1(eth0) entering forwarding state
</p>
</div>
<p>
<br/>

</p>

</div>

<h2 class="sectionedit13" id="untouched_switch_mapping">Untouched switch mapping</h2>
<div class="level2">

<p>
By default the switch mapping is a bit complicated :
</p>
<pre class="code">port2 -&gt; eth2
port1 -&gt; eth3
port4 -&gt; eth0
port3 -&gt; eth1
wan -&gt; eth4</pre>

</div>

<h2 class="sectionedit14" id="tags">Tags</h2>
<div class="level2">

<p>
<a href="../../../external.html?link=https://openwrt.org/meta/tags" class="wikilink1" title="meta:tags">How to add tags</a>
</p>
<div class="tags"><span>
	<a href="../../../external.html?link=https://openwrt.org/tag/adm5120?do=showtag&amp;tag=ADM5120" class="wikilink1" title="tag:adm5120" rel="tag">ADM5120</a>,
	<a href="../../../external.html?link=https://openwrt.org/tag/fastethernet?do=showtag&amp;tag=FastEthernet" class="wikilink1" title="tag:fastethernet" rel="tag">FastEthernet</a>,
	<a href="../../../external.html?link=https://openwrt.org/tag/1nic?do=showtag&amp;tag=1NIC" class="wikilink1" title="tag:1nic" rel="tag">1NIC</a>,
	<a href="../../../external.html?link=https://openwrt.org/tag/1wnic?do=showtag&amp;tag=1WNIC" class="wikilink1" title="tag:1wnic" rel="tag">1WNIC</a>,
	<a href="../../../external.html?link=https://openwrt.org/tag/5port?do=showtag&amp;tag=5Port" class="wikilink1" title="tag:5port" rel="tag">5Port</a>,
	<a href="../../../external.html?link=https://openwrt.org/tag/16ram?do=showtag&amp;tag=16RAM" class="wikilink1" title="tag:16ram" rel="tag">16RAM</a>,
	<a href="../../../external.html?link=https://openwrt.org/tag/4flash?do=showtag&amp;tag=4Flash" class="wikilink1" title="tag:4flash" rel="tag">4Flash</a>,
	<a href="../../../external.html?link=https://openwrt.org/tag/mips?do=showtag&amp;tag=MIPS" class="wikilink1" title="tag:mips" rel="tag">MIPS</a>,
	<a href="../../../external.html?link=https://openwrt.org/tag/mips32?do=showtag&amp;tag=MIPS32" class="wikilink1" title="tag:mips32" rel="tag">MIPS32</a>,
	<a href="../../../external.html?link=https://openwrt.org/tag/4kc?do=showtag&amp;tag=4Kc" class="wikilink1" title="tag:4kc" rel="tag">4Kc</a>
</span></div>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/zyxel/zyxel_p335wt.txt</bdi> · Last modified: 2018/06/02 22:15 by <bdi>tmomas</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="zyxel_p335wt39b4?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="zyxel_p335wt5f35?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="zyxel_p335wt2271?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="../../../external.html?link=http://creativecommons.org/licenses/by-sa/4.0/" rel="license" class="urlextern">CC Attribution-Share Alike 4.0 International</a></bdi></div>
    <div class="buttons">
        <a href="../../../external.html?link=http://creativecommons.org/licenses/by-sa/4.0/" rel="license"><img src="../../lib/images/license/button/cc-by-sa.png" alt="CC Attribution-Share Alike 4.0 International" /></a>        <a href="../../../external.html?link=http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="../../../external.html?link=http://www.php.net/" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="../../../external.html?link=http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="../../../external.html?link=http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="../../../external.html?link=http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

<script language="javascript" type="text/javascript" src="../../js/awstats_misc_tracker.js" ></script>
<noscript><img src="../../js/awstats_misc_trackerd389.js?nojs=y" height="0" width="0" border="0" style="display: none"></noscript>
    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer9dea.php?id=toh%3Azyxel%3Azyxel_p335wt&amp;1552201045" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>

<!-- Mirrored from openwrt.org/toh/zyxel/zyxel_p335wt by HTTraQt Website Copier/1.x [Karbofos 2012-2017] Sun, 10 Mar 2019 07:09:34 GMT -->
</html>
